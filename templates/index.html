<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LegoBrick Classifier</title>
    <link rel="stylesheet" href="./static/stylesheet.css">
</head>
<body>
    <header>   
         <a class="header-logo" href="#">Legobrick Classifier</a>
    </header>

    <div class="main">    
        <h2> AIが送信された12種類のレゴブロック画像の型番を識別します</h2>
        <img src="static/images/brick.jpg" width="970" height="80" alt="DiscriminableBrick">
        <p>上にある識別可能対象を参考に画像を送信してください</p>
        <form method="POST" enctype="multipart/form-data">
            <input class="file_choose" type="file" name="file" onchange="previewImage(this)">
            <input id="submit_btn" class="btn" value="画像を判定する" type="submit" 
            onclick="document.getElementById('answer_id').style.visibility='visible';"disabled="">
        </form>
        <p><img id="preview" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="max-width:200px; padding:30px"></p>
        <script>
            function previewImage(obj) {
                var fileReader = new FileReader();
                fileReader.onload = (function () {
                    document.getElementById('preview').src = fileReader.result;
                });
                fileReader.readAsDataURL(obj.files[0]);

                // 画像が読み込まれたら、submit_btnを有効化する。
                if(document.getElementById('submit_btn').disabled == true){
                    document.getElementById('submit_btn').disabled = false
                }
            }      
        </script>
        <div class="answer">{{answer}}</div>
       
    </div>

    <footer>
        <small>2024.FEB ENOJUN</small>   
    </footer>
</body>
</html>